import{c as x,r as o,h as z,j as e,P as j,K as V,x as g,e as y,b as q}from"./index-oJS8b_MW.js";import{D as B,U as H}from"./DashboardLayout-DizeX9QF.js";import{C as f,d as p,a as w,b as A,c as G}from"./card-B9ty8oXe.js";import{B as h}from"./badge-DzGHb-rw.js";import"./users-BV52Yt2X.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=x("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=x("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=x("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=x("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var E={exports:{}},L={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u=o;function J(a,t){return a===t&&(a!==0||1/a===1/t)||a!==a&&t!==t}var Q=typeof Object.is=="function"?Object.is:J,X=u.useState,Z=u.useEffect,ee=u.useLayoutEffect,ae=u.useDebugValue;function te(a,t){var s=t(),c=X({inst:{value:s,getSnapshot:t}}),n=c[0].inst,r=c[1];return ee(function(){n.value=s,n.getSnapshot=t,v(n)&&r({inst:n})},[a,s,t]),Z(function(){return v(n)&&r({inst:n}),a(function(){v(n)&&r({inst:n})})},[a]),ae(s),s}function v(a){var t=a.getSnapshot;a=a.value;try{var s=t();return!Q(a,s)}catch{return!0}}function se(a,t){return t()}var re=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?se:te;L.useSyncExternalStore=u.useSyncExternalStore!==void 0?u.useSyncExternalStore:re;E.exports=L;var ne=E.exports;function ce(){return ne.useSyncExternalStore(ie,()=>!0,()=>!1)}function ie(){return()=>{}}var N="Avatar",[oe,ve]=z(N),[le,C]=oe(N),k=o.forwardRef((a,t)=>{const{__scopeAvatar:s,...c}=a,[n,r]=o.useState("idle");return e.jsx(le,{scope:s,imageLoadingStatus:n,onImageLoadingStatusChange:r,children:e.jsx(j.span,{...c,ref:t})})});k.displayName=N;var I="AvatarImage",R=o.forwardRef((a,t)=>{const{__scopeAvatar:s,src:c,onLoadingStatusChange:n=()=>{},...r}=a,d=C(I,s),i=de(c,r),l=V(m=>{n(m),d.onImageLoadingStatusChange(m)});return g(()=>{i!=="idle"&&l(i)},[i,l]),i==="loaded"?e.jsx(j.img,{...r,ref:t,src:c}):null});R.displayName=I;var _="AvatarFallback",M=o.forwardRef((a,t)=>{const{__scopeAvatar:s,delayMs:c,...n}=a,r=C(_,s),[d,i]=o.useState(c===void 0);return o.useEffect(()=>{if(c!==void 0){const l=window.setTimeout(()=>i(!0),c);return()=>window.clearTimeout(l)}},[c]),d&&r.imageLoadingStatus!=="loaded"?e.jsx(j.span,{...n,ref:t}):null});M.displayName=_;function b(a,t){return a?t?(a.src!==t&&(a.src=t),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}function de(a,{referrerPolicy:t,crossOrigin:s}){const c=ce(),n=o.useRef(null),r=c?(n.current||(n.current=new window.Image),n.current):null,[d,i]=o.useState(()=>b(r,a));return g(()=>{i(b(r,a))},[r,a]),g(()=>{const l=$=>()=>{i($)};if(!r)return;const m=l("loaded"),S=l("error");return r.addEventListener("load",m),r.addEventListener("error",S),t&&(r.referrerPolicy=t),typeof s=="string"&&(r.crossOrigin=s),()=>{r.removeEventListener("load",m),r.removeEventListener("error",S)}},[r,s,t]),d}var P=k,F=R,U=M;const D=o.forwardRef(({className:a,...t},s)=>e.jsx(P,{ref:s,className:y("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...t}));D.displayName=P.displayName;const ue=o.forwardRef(({className:a,...t},s)=>e.jsx(F,{ref:s,className:y("aspect-square h-full w-full",a),...t}));ue.displayName=F.displayName;const T=o.forwardRef(({className:a,...t},s)=>e.jsx(U,{ref:s,className:y("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...t}));T.displayName=U.displayName;function ge(){const{role:a,username:t,email:s,locations:c,two_factor_enabled:n,two_factor_setup_complete:r}=q(),d=i=>(i==null?void 0:i.split(" ").map(l=>l[0]).join("").toUpperCase())||"U";return e.jsx(B,{children:e.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"My Profile"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your account settings and security"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(f,{className:"md:col-span-1",children:e.jsxs(p,{className:"pt-6 flex flex-col items-center text-center space-y-4",children:[e.jsx(D,{className:"h-24 w-24",children:e.jsx(T,{className:"text-2xl bg-primary text-primary-foreground font-bold",children:d(t||"User")})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h2",{className:"text-xl font-bold",children:t}),e.jsx(h,{variant:"secondary",className:"capitalize",children:a})]})]})}),e.jsxs("div",{className:"md:col-span-2 space-y-6",children:[e.jsxs(f,{children:[e.jsx(w,{children:e.jsxs(A,{className:"text-lg flex items-center gap-2",children:[e.jsx(H,{className:"h-5 w-5 text-primary"}),"Account Information"]})}),e.jsxs(p,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(O,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs text-muted-foreground font-medium uppercase",children:"Email Address"}),e.jsx("span",{className:"text-sm",children:s||"Not set"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Y,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs text-muted-foreground font-medium uppercase",children:"System Role"}),e.jsx("span",{className:"text-sm capitalize",children:a})]})]}),a==="manager"&&c&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(W,{className:"h-4 w-4 text-muted-foreground mt-1"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs text-muted-foreground font-medium uppercase",children:"Assigned Locations"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:c.map(i=>e.jsx(h,{variant:"outline",className:"text-[10px]",children:i},i))})]})]})]})]}),e.jsxs(f,{className:"border-primary/20 bg-primary/[0.02]",children:[e.jsxs(w,{children:[e.jsxs(A,{className:"text-lg flex items-center gap-2",children:[e.jsx(K,{className:"h-5 w-5 text-primary"}),"Security Status"]}),e.jsx(G,{children:"Multi-factor authentication settings"})]}),e.jsx(p,{children:e.jsx("div",{className:"flex items-center justify-between p-4 bg-background rounded-lg border shadow-sm",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:"Authentication App"}),e.jsx(h,{variant:n?"default":"destructive",children:n?"Required":"Disabled"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:n?r?"Your account is protected by TOTP 2FA.":"2FA is required but setup is pending.":"Contact an administrator to enable 2-Factor Authentication."})]})})})]})]})]})]})})}export{ge as default};
