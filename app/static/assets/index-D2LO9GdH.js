const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MetricPalette-BgpoWt_s.js","assets/index-BisCnQgg.js","assets/index-BVSvGCln.css","assets/card-CglERBZm.js","assets/trending-up-CRzP9fSk.js","assets/popover-B2mQvT2k.js","assets/button-lw5SYUzn.js","assets/DashboardLayout-DfZ718ef.js","assets/users-D9ZFIiNy.js","assets/ChartCanvas-D53K15s8.js","assets/badge-CnXCiDNa.js","assets/AreaChart-Ciz_yQoK.js","assets/BarChart-Drzwuk3y.js"])))=>i.map(i=>d[i]);
import{r as o,j as e,b as w,S as b,_ as y}from"./index-BisCnQgg.js";import{D as L}from"./DashboardLayout-DfZ718ef.js";import{L as j}from"./label-BPZG_JYR.js";import{S as M,a as S,b as T,c as _,d as c}from"./select-tO8q67Cw.js";import{B as v}from"./button-lw5SYUzn.js";import{g,P as R,b as k,C as P,f as h,c as I,d as A}from"./popover-B2mQvT2k.js";import"./users-D9ZFIiNy.js";const E=()=>{const[s,r]=o.useState({dimensions:[],metrics:[],chartType:"bar",dateRange:{from:void 0,to:void 0},customMetrics:[],chartData:[],draggedItem:void 0});return{state:s,setDimensions:a=>{r(t=>({...t,dimensions:a}))},setMetrics:a=>{r(t=>({...t,metrics:a}))},setChartType:a=>{r(t=>({...t,chartType:a}))},setDateRange:a=>{r(t=>({...t,dateRange:a}))},addCustomMetric:a=>{r(t=>({...t,customMetrics:[...t.customMetrics,a]}))},setChartData:a=>{r(t=>({...t,chartData:a}))},setDraggedItem:a=>{r(t=>({...t,draggedItem:a}))}}},B=o.lazy(()=>y(()=>import("./MetricPalette-BgpoWt_s.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),z=o.lazy(()=>y(()=>import("./ChartCanvas-D53K15s8.js"),__vite__mapDeps([9,1,2,10,11,12]))),V=[{name:"Jan",value:4e3},{name:"Feb",value:3e3},{name:"Mar",value:5e3},{name:"Apr",value:4500},{name:"May",value:6e3},{name:"Jun",value:5500}];function K(){const{state:s,setDimensions:r,setMetrics:d,setChartType:f,setDateRange:u,setChartData:m}=E(),[l,p]=o.useState({from:new Date(2022,0,20),to:g(new Date(2022,0,20),20)}),[i,a]=o.useState({from:new Date(2022,0,20),to:g(new Date(2022,0,20),20)}),t=()=>{l!=null&&l.from&&l.to&&(a(l),u({from:l.from,to:l.to}))};o.useEffect(()=>{s.metrics.length>0&&s.dimensions.length>0?m(V):m([])},[s.metrics,s.dimensions]);const C=n=>{n.type==="dimension"?s.dimensions.includes(n.name)||r([n.name]):n.type==="metric"&&(s.metrics.includes(n.name)||d([...s.metrics,n.name]))},D=n=>{r(s.dimensions.filter(x=>x!==n))},N=n=>{d(s.metrics.filter(x=>x!==n))};return e.jsx(L,{children:e.jsx("div",{className:"p-4 md:p-6 h-full flex flex-col",children:e.jsxs("div",{className:"space-y-6 h-full flex flex-col",children:[e.jsx("div",{className:"sticky lg:top-0 z-30 pb-4 border-b -mx-4 md:-mx-6 px-4 md:px-6 pt-2 shadow-sm bg-background",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:"Chart Builder"}),e.jsx("p",{className:"text-muted-foreground text-sm md:text-base",children:"Click on metrics and dimensions to build your chart"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-1",children:[e.jsxs("div",{className:"w-full sm:w-48",children:[e.jsx(j,{className:"text-xs text-muted-foreground",children:"Chart Type"}),e.jsxs(M,{value:s.chartType,onValueChange:f,children:[e.jsx(S,{className:"w-full",children:e.jsx(T,{placeholder:"Select chart type"})}),e.jsxs(_,{children:[e.jsx(c,{value:"bar",children:"Bar Chart"}),e.jsx(c,{value:"line",children:"Line Chart"}),e.jsx(c,{value:"area",children:"Area Chart"}),e.jsx(c,{value:"pie",children:"Pie Chart"})]})]})]}),e.jsxs("div",{className:"w-full sm:w-48",children:[e.jsx(j,{className:"text-xs text-muted-foreground",children:"Date Range"}),e.jsxs(R,{children:[e.jsx(k,{asChild:!0,children:e.jsxs(v,{id:"date",variant:"outline",className:w("w-[300px] justify-start text-left font-normal",!i&&"text-muted-foreground"),children:[e.jsx(P,{className:"mr-2 h-4 w-4"}),i!=null&&i.from?i.to?e.jsxs(e.Fragment,{children:[h(i.from,"LLL dd, y")," -"," ",h(i.to,"LLL dd, y")]}):h(i.from,"LLL dd, y"):e.jsx("span",{children:"Pick a date"})]})}),e.jsxs(I,{className:"w-auto p-0 flex flex-col",align:"start",children:[e.jsx(A,{initialFocus:!0,mode:"range",defaultMonth:l==null?void 0:l.from,selected:l,onSelect:p,numberOfMonths:2}),e.jsx("div",{className:"p-2 border-t flex justify-end",children:e.jsx(v,{size:"sm",onClick:t,className:"ml-auto",children:"Apply"})})]})]})]})]})]})}),e.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:e.jsx(o.Suspense,{fallback:e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsx(b,{className:"h-8 w-8 rounded-full"})}),children:e.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row gap-4 min-h-0 h-full",children:[e.jsx("div",{className:"lg:w-72 shrink-0 overflow-y-auto h-full pr-2",children:e.jsx(B,{onItemClick:C})}),e.jsx("div",{className:"flex-1 min-w-0 flex flex-col h-full overflow-hidden",children:e.jsx("div",{className:"bg-card rounded-lg border p-4 flex-1 flex flex-col min-h-0 overflow-y-auto",children:e.jsx(z,{dimensions:s.dimensions,metrics:s.metrics,chartType:s.chartType,chartData:s.chartData,onRemoveDimension:D,onRemoveMetric:N})})})]})})})]})})})}export{K as default};
