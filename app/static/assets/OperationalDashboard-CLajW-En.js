import{c as se,r as S,R as g,f as ye,a as xe,A as ve,j as n,L as be,u as ge,b as je,e as Ae}from"./index-BjNw3qEE.js";import{D as Se}from"./DashboardLayout-CZMNrpH6.js";import{f as ee}from"./popover-DqCC_qph.js";import{u as Oe,c as we,D as Pe,R as te}from"./RankingList-DJooTlHc.js";import{C as w,a as P,b as N,d as T}from"./card-C2eWodu1.js";import{u as Ne}from"./useQuery-CC13hZqr.js";import{S as re,a as Te,G as _e,f as U,b as I,c as Ee,d as Ce,i as B,e as De,g as oe,E as ke,h as M,j as Le,k as Ie,l as Ke,m as C,n as $e,o as ze,p as ie,u as Be,q as Me,A as le,B as ce,X as ue,Y as G,r as Fe,R as Re,C as He,T as qe,L as We}from"./generateCategoricalChart-IVvuxcZM.js";import{L as Ze}from"./Line-CmVOKXlG.js";import{U as Ue}from"./users-BjecRXlB.js";import"./locationUtils-HaAQHqFG.js";import"./index-dzqjn2v4.js";import"./progress-CFYz5L2L.js";import"./ellipsis-BO397Lv9.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=se("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=se("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);function D(t){"@babel/helpers - typeof";return D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(t)}function Ye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Je(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fe(r.key),r)}}function Xe(t,e,i){return e&&Je(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qe(t,e,i){return e=F(e),et(t,de()?Reflect.construct(e,i||[],F(t).constructor):e.apply(t,i))}function et(t,e){if(e&&(D(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tt(t)}function tt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function de(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(de=function(){return!!t})()}function F(t){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},F(t)}function rt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V(t,e)}function V(t,e){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},V(t,e)}function pe(t,e,i){return e=fe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function fe(t){var e=it(t,"string");return D(e)=="symbol"?e:e+""}function it(t,e){if(D(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(D(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var H=function(t){function e(){return Ye(this,e),Qe(this,e,arguments)}return rt(e,t),Xe(e,[{key:"render",value:function(){return null}}])}(S.Component);pe(H,"displayName","ZAxis");pe(H,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var nt=["option","isActive"];function K(){return K=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},K.apply(this,arguments)}function at(t,e){if(t==null)return{};var i=st(t,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function st(t,e){if(t==null)return{};var i={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;i[r]=t[r]}return i}function ot(t){var e=t.option,i=t.isActive,r=at(t,nt);return typeof e=="string"?S.createElement(re,K({option:S.createElement(Te,K({type:e},r)),isActive:i,shapeType:"symbols"},r)):S.createElement(re,K({option:e,isActive:i,shapeType:"symbols"},r))}function k(t){"@babel/helpers - typeof";return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(t)}function $(){return $=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},$.apply(this,arguments)}function ne(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),i.push.apply(i,r)}return i}function A(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?ne(Object(i),!0).forEach(function(r){_(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ne(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function lt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ae(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,he(r.key),r)}}function ct(t,e,i){return e&&ae(t.prototype,e),i&&ae(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function ut(t,e,i){return e=R(e),dt(t,me()?Reflect.construct(e,i||[],R(t).constructor):e.apply(t,i))}function dt(t,e){if(e&&(k(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pt(t)}function pt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function me(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(me=function(){return!!t})()}function R(t){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},R(t)}function ft(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y(t,e)}function Y(t,e){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Y(t,e)}function _(t,e,i){return e=he(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function he(t){var e=mt(t,"string");return k(e)=="symbol"?e:e+""}function mt(t,e){if(k(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(k(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var q=function(t){function e(){var i;lt(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return i=ut(this,e,[].concat(a)),_(i,"state",{isAnimationFinished:!1}),_(i,"handleAnimationEnd",function(){i.setState({isAnimationFinished:!0})}),_(i,"handleAnimationStart",function(){i.setState({isAnimationFinished:!1})}),_(i,"id",Be("recharts-scatter-")),i}return ft(e,t),ct(e,[{key:"renderSymbolsStatically",value:function(r){var a=this,o=this.props,u=o.shape,y=o.activeShape,d=o.activeIndex,l=U(this.props,!1);return r.map(function(s,c){var f=d===c,p=f?y:u,v=A(A({},l),s);return g.createElement(I,$({className:"recharts-scatter-symbol",key:"symbol-".concat(s==null?void 0:s.cx,"-").concat(s==null?void 0:s.cy,"-").concat(s==null?void 0:s.size,"-").concat(c)},Ee(a.props,s,c),{role:"img"}),g.createElement(ot,$({option:p,isActive:f,key:"symbol-".concat(c)},v)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,a=this.props,o=a.points,u=a.isAnimationActive,y=a.animationBegin,d=a.animationDuration,l=a.animationEasing,s=a.animationId,c=this.state.prevPoints;return g.createElement(Ce,{begin:y,duration:d,isActive:u,easing:l,from:{t:0},to:{t:1},key:"pie-".concat(s),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var p=f.t,v=o.map(function(b,h){var x=c&&c[h];if(x){var j=B(x.cx,b.cx),m=B(x.cy,b.cy),O=B(x.size,b.size);return A(A({},b),{},{cx:j(p),cy:m(p),size:O(p)})}var E=B(0,b.size);return A(A({},b),{},{size:E(p)})});return g.createElement(I,null,r.renderSymbolsStatically(v))})}},{key:"renderSymbols",value:function(){var r=this.props,a=r.points,o=r.isAnimationActive,u=this.state.prevPoints;return o&&a&&a.length&&(!u||!De(u,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,u=a.xAxis,y=a.yAxis,d=a.children,l=oe(d,ke);return l?l.map(function(s,c){var f=s.props,p=f.direction,v=f.dataKey;return g.cloneElement(s,{key:"".concat(p,"-").concat(v,"-").concat(o[c]),data:o,xAxis:u,yAxis:y,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(h,x){return{x:h.cx,y:h.cy,value:p==="x"?+h.node.x:+h.node.y,errorVal:M(h,x)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,a=r.points,o=r.line,u=r.lineType,y=r.lineJointType,d=U(this.props,!1),l=U(o,!1),s,c;if(u==="joint")s=a.map(function(m){return{x:m.cx,y:m.cy}});else if(u==="fitting"){var f=Le(a),p=f.xmin,v=f.xmax,b=f.a,h=f.b,x=function(O){return b*O+h};s=[{x:p,y:x(p)},{x:v,y:x(v)}]}var j=A(A(A({},d),{},{fill:"none",stroke:d&&d.fill},l),{},{points:s});return g.isValidElement(o)?c=g.cloneElement(o,j):Ie(o)?c=o(j):c=g.createElement(Ke,$({},j,{type:y})),g.createElement(I,{className:"recharts-scatter-line",key:"recharts-scatter-line"},c)}},{key:"render",value:function(){var r=this.props,a=r.hide,o=r.points,u=r.line,y=r.className,d=r.xAxis,l=r.yAxis,s=r.left,c=r.top,f=r.width,p=r.height,v=r.id,b=r.isAnimationActive;if(a||!o||!o.length)return null;var h=this.state.isAnimationFinished,x=ye("recharts-scatter",y),j=d&&d.allowDataOverflow,m=l&&l.allowDataOverflow,O=j||m,E=C(v)?this.id:v;return g.createElement(I,{className:x,clipPath:O?"url(#clipPath-".concat(E,")"):null},j||m?g.createElement("defs",null,g.createElement("clipPath",{id:"clipPath-".concat(E)},g.createElement("rect",{x:j?s:s-f/2,y:m?c:c-p/2,width:j?f:f*2,height:m?p:p*2}))):null,u&&this.renderLine(),this.renderErrorBar(),g.createElement(I,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!b||h)&&$e.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:a.curPoints}:r.points!==a.curPoints?{curPoints:r.points}:null}}])}(S.PureComponent);_(q,"displayName","Scatter");_(q,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!_e.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});_(q,"getComposedData",function(t){var e=t.xAxis,i=t.yAxis,r=t.zAxis,a=t.item,o=t.displayedData,u=t.xAxisTicks,y=t.yAxisTicks,d=t.offset,l=a.props.tooltipType,s=oe(a.props.children,ze),c=C(e.dataKey)?a.props.dataKey:e.dataKey,f=C(i.dataKey)?a.props.dataKey:i.dataKey,p=r&&r.dataKey,v=r?r.range:H.defaultProps.range,b=v&&v[0],h=e.scale.bandwidth?e.scale.bandwidth():0,x=i.scale.bandwidth?i.scale.bandwidth():0,j=o.map(function(m,O){var E=M(m,c),J=M(m,f),L=!C(p)&&M(m,p)||"-",X=[{name:C(e.dataKey)?a.props.name:e.name||e.dataKey,unit:e.unit||"",value:E,payload:m,dataKey:c,type:l},{name:C(i.dataKey)?a.props.name:i.name||i.dataKey,unit:i.unit||"",value:J,payload:m,dataKey:f,type:l}];L!=="-"&&X.push({name:r.name||r.dataKey,unit:r.unit||"",value:L,payload:m,dataKey:p,type:l});var W=ie({axis:e,ticks:u,bandSize:h,entry:m,index:O,dataKey:c}),Z=ie({axis:i,ticks:y,bandSize:x,entry:m,index:O,dataKey:f}),Q=L!=="-"?r.scale(L):b,z=Math.sqrt(Math.max(Q,0)/Math.PI);return A(A({},m),{},{cx:W,cy:Z,x:W-z,y:Z-z,xAxis:e,yAxis:i,zAxis:r,width:2*z,height:2*z,size:Q,node:{x:E,y:J,z:L},tooltipPayload:X,tooltipPosition:{x:W,y:Z},payload:m},s&&s[O]&&s[O].props)});return A({points:j},d)});var ht=Me({chartName:"ComposedChart",GraphicalChild:[Ze,le,ce,q],axisComponents:[{axisType:"xAxis",AxisComp:ue},{axisType:"yAxis",AxisComp:G},{axisType:"zAxis",AxisComp:H}],formatAxisMap:Fe});const yt=(t,e,i)=>{const[r,a]=S.useState(null),[o,u]=S.useState(!1),{toast:y}=xe(),d=async()=>{u(!0);try{const l=new URLSearchParams({start:ee(t.from,"yyyy-MM-dd"),end:ee(t.to,"yyyy-MM-dd")});e&&e.length>0&&e.forEach(c=>l.append("locations",c)),i&&i.length>0&&i.forEach(c=>l.append("sites",c));const s=await fetch(`${ve.SALES_SUMMARY.replace("sales-summary","operational-summary")}?${l}`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`},credentials:"include"});if(s.ok){const c=await s.json();a(c)}else y({title:"Error",description:"Could not fetch operational data",variant:"destructive"})}catch{y({title:"Error",description:"Failed to connect to server",variant:"destructive"})}finally{u(!1)}};return S.useEffect(()=>{d()},[t,e,i]),{operationalData:r,isLoading:o,refetch:d}},xt=({dateRange:t})=>{const e=t!=null&&t.from?t.from.toISOString().split("T")[0]:"",i=t!=null&&t.to?t.to.toISOString().split("T")[0]:"",{data:r,isLoading:a}=Ne({queryKey:["target-performance",e,i],queryFn:async()=>{if(!e||!i)return[];const l=await fetch(`/api/dashboard/targets-performance?start=${e}&end=${i}`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!l.ok)throw new Error("Failed to fetch target Data");return l.json()},enabled:!!e&&!!i});if(a)return n.jsxs(w,{children:[n.jsx(P,{children:n.jsx(N,{children:"Target Performance"})}),n.jsx(T,{children:n.jsx(be,{className:"animate-spin"})})]});if(!r||r.length===0)return null;const o=r.length,u=r.filter(l=>l.actual>=l.target).length,y=o-u,d=o>0?u/o*100:0;return n.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-2",children:[n.jsxs(w,{children:[n.jsxs(P,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(N,{className:"text-sm font-medium",children:"Target Achievement"}),n.jsx(Ve,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(T,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:[d.toFixed(0),"%"]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[u," of ",o," sites met target"]}),n.jsx("div",{className:"mt-4 h-2 w-full bg-secondary rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-primary",style:{width:`${d}%`}})})]})]}),n.jsxs(w,{children:[n.jsx(P,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:n.jsx(N,{className:"text-sm font-medium",children:"Missed Targets"})}),n.jsxs(T,{children:[n.jsx("div",{className:"text-2xl font-bold",children:y}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Sites below target"}),n.jsx("div",{className:"mt-2 text-xs space-y-1 max-h-[100px] overflow-y-auto",children:r.filter(l=>l.actual<l.target).map((l,s)=>n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:l.site||l.location}),n.jsxs("span",{className:"text-red-500",children:[l.actual,"/",l.target," (",l.actual-l.target,")"]})]},s))})]})]})]})},vt=({active:t,payload:e,label:i})=>t&&e&&e.length?n.jsxs("div",{className:"bg-background border border-border p-3 rounded-lg shadow-lg",children:[n.jsx("p",{className:"font-semibold text-foreground",children:i}),e.map((r,a)=>n.jsxs("p",{className:"text-sm",style:{color:r.color},children:[r.name,": ",r.name==="Paid Hours"?r.value.toLocaleString(void 0,{maximumFractionDigits:1}):r.value]},a))]}):null,bt=({data:t,aggregationLevel:e})=>{const i={dataKey:"display",interval:0};return!t||t.length===0?n.jsxs(w,{children:[n.jsx(P,{children:n.jsx(N,{children:"Hours & Shifts Trend"})}),n.jsx(T,{children:n.jsx("div",{className:"h-[400px] flex items-center justify-center",children:n.jsx("p",{className:"text-muted-foreground",children:"No data available for the selected period"})})})]}):n.jsxs(w,{children:[n.jsxs(P,{children:[n.jsx(N,{children:"Hours & Shifts Trend"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[e==="daily"&&"Daily view",e==="weekly"&&"Weekly view",e==="monthly"&&"Monthly view"]})]}),n.jsx(T,{children:n.jsx("div",{className:"h-[400px]",children:n.jsx(Re,{width:"100%",height:"100%",children:n.jsxs(ht,{data:t,children:[n.jsx(He,{strokeDasharray:"3 3"}),n.jsx(ue,{dataKey:i.dataKey,tick:{fontSize:12},interval:i.interval}),n.jsx(G,{yAxisId:"left",orientation:"left",label:{value:"Hours",angle:-90,position:"insideLeft"}}),n.jsx(G,{yAxisId:"right",orientation:"right",label:{value:"Shifts",angle:90,position:"insideRight"}}),n.jsx(qe,{content:n.jsx(vt,{})}),n.jsx(We,{}),n.jsx(le,{yAxisId:"left",type:"monotone",dataKey:"paidHours",name:"Paid Hours",stroke:"hsl(var(--primary))",fill:"hsl(var(--primary))",fillOpacity:.3,strokeWidth:2}),n.jsx(ce,{yAxisId:"right",dataKey:"totalShifts",name:"Total Shifts",barSize:20,fill:"hsl(var(--accent))",fillOpacity:.6})]})})})})]})},kt=()=>{ge(),je();const{dateRange:t,setDateRange:e}=Ae(),[i,r]=S.useState(!1),[a,o]=S.useState(t),[u,y]=S.useState([]),[d,l]=S.useState([]),{operationalData:s,isLoading:c}=yt(t,u,d),{topStaff:f,isLoadingStaff:p,topClientsShifts:v,isLoadingClientsShifts:b}=Oe(t,u,d),h=we(s,t);return n.jsx(Se,{fullWidth:!0,children:n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsx(Pe,{dateRange:t,onDateRangeChange:e,calendarOpen:i,onCalendarOpenChange:r,tempDateRange:a,onTempDateRangeChange:o,selectedLocations:u,onLocationsChange:y,selectedSites:d,onSitesChange:l}),n.jsx("div",{className:"flex-1 overflow-auto",children:n.jsx("div",{className:"px-4 pt-6 pb-6 space-y-4",children:n.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7",children:[n.jsxs("div",{className:"col-span-5 flex flex-col gap-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[n.jsxs(w,{children:[n.jsx(P,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:n.jsx(N,{className:"text-sm font-medium",children:"Total Shifts"})}),n.jsxs(T,{children:[n.jsx("div",{className:"text-2xl font-bold",children:h.totalShifts.value}),n.jsx("p",{className:"text-xs text-muted-foreground",children:h.totalShifts.text})]})]}),n.jsxs(w,{children:[n.jsx(P,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:n.jsx(N,{className:"text-sm font-medium",children:"Total Hours"})}),n.jsxs(T,{children:[n.jsx("div",{className:"text-2xl font-bold",children:h.paidHours.value.toLocaleString()}),n.jsx("p",{className:"text-xs text-muted-foreground",children:h.paidHours.text})]})]}),n.jsxs(w,{children:[n.jsx(P,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:n.jsx(N,{className:"text-sm font-medium",children:"Active Clients"})}),n.jsxs(T,{children:[n.jsx("div",{className:"text-2xl font-bold",children:h.totalClients.value}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Distinct clients this period"})]})]})]}),n.jsx(xt,{dateRange:t}),n.jsxs(w,{className:"flex-1",children:[n.jsx(P,{children:n.jsx(N,{children:"Overview"})}),n.jsx(T,{className:"pl-2",children:n.jsx(bt,{data:(s==null?void 0:s.timeSeries)||[],aggregationLevel:(s==null?void 0:s.aggregationLevel)||"monthly"})})]})]}),n.jsxs("div",{className:"col-span-2 flex flex-col gap-4",children:[n.jsx(te,{title:"Top Staff (Paid Hours)",data:f,isLoading:p,valueFormatter:x=>`${x.toLocaleString()} hrs`,icon:n.jsx(Ue,{className:"h-4 w-4"}),className:"flex-1"}),n.jsx(te,{title:"Top Clients (Shifts)",data:v,isLoading:b,valueFormatter:x=>`${x.toLocaleString()} shifts`,icon:n.jsx(Ge,{className:"h-4 w-4"}),className:"flex-1",barColor:"bg-blue-500"})]})]})})})]})})};export{kt as OperationalDashboard,kt as default};
