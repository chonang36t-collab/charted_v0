import{y as B,z as h,B as Je,r as b,j as u,b as ht,X as mt}from"./index-0SE_cq5w.js";import{B as gt}from"./badge-CXXNVYty.js";import{f as w,_ as Qe,b as et,c as bt,d as yt,i as M,e as Pe,p as I,g as _,h as tt,j as Re,k as rt,D as xt,l as At,m as q,n as W,S as Ot,o as kt,q as wt,r as Ee,s as jt,t as U,u as Pt,G as Rt,v as _t,w as St,x as ae,y as De,z as se,E as Tt,F as nt,H as Et,I as Dt,R as It,C as me,X as ge,Y as be,T as ie,L as oe,B as Lt,A as Nt,a as Ct}from"./AreaChart-DWHYhZJa.js";import{B as $t,L as Bt,a as zt}from"./BarChart-CvUQ1PbK.js";var Ft=["points","className","baseLinePoints","connectNulls"];function X(){return X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X.apply(this,arguments)}function Kt(e,t){if(e==null)return{};var n=Mt(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Mt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Ie(e){return Xt(e)||Ut(e)||Wt(e)||Vt()}function Vt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wt(e,t){if(e){if(typeof e=="string")return xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xe(e,t)}}function Ut(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xt(e){if(Array.isArray(e))return xe(e)}function xe(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Le=function(t){return t&&t.x===+t.x&&t.y===+t.y},Yt=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){Le(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),Le(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Q=function(t,n){var r=Yt(t);n&&(r=[r.reduce(function(o,i){return[].concat(Ie(o),Ie(i))},[])]);var a=r.map(function(o){return o.reduce(function(i,c,l){return"".concat(i).concat(l===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return r.length===1?"".concat(a,"Z"):a},Ht=function(t,n,r){var a=Q(t,r);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Q(n.reverse(),r).slice(1))},qt=function(t){var n=t.points,r=t.className,a=t.baseLinePoints,o=t.connectNulls,i=Kt(t,Ft);if(!n||!n.length)return null;var c=B("recharts-polygon",r);if(a&&a.length){var l=i.stroke&&i.stroke!=="none",s=Ht(n,a,o);return h.createElement("g",{className:c},h.createElement("path",X({},w(i,!0),{fill:s.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:s})),l?h.createElement("path",X({},w(i,!0),{fill:"none",d:Q(n,o)})):null,l?h.createElement("path",X({},w(i,!0),{fill:"none",d:Q(a,o)})):null)}var d=Q(n,o);return h.createElement("path",X({},w(i,!0),{fill:d.slice(-1)==="Z"?i.fill:"none",className:c,d}))},Gt=Qe,Zt=bt,Jt=et;function Qt(e,t){return e&&e.length?Gt(e,Jt(t),Zt):void 0}var er=Qt;const tr=Je(er);var rr=Qe,nr=et,ar=yt;function ir(e,t){return e&&e.length?rr(e,nr(t),ar):void 0}var or=ir;const sr=Je(or);var cr=["cx","cy","angle","ticks","axisLine"],lr=["ticks","tick","angle","tickFormatter","stroke"];function G(e){"@babel/helpers - typeof";return G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G(e)}function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ee.apply(this,arguments)}function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ne(Object(n),!0).forEach(function(r){de(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ce(e,t){if(e==null)return{};var n=ur(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ur(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function fr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,it(r.key),r)}}function dr(e,t,n){return t&&$e(e.prototype,t),n&&$e(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pr(e,t,n){return t=le(t),vr(e,at()?Reflect.construct(t,n||[],le(e).constructor):t.apply(e,n))}function vr(e,t){if(t&&(G(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hr(e)}function hr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function at(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(at=function(){return!!e})()}function le(e){return le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},le(e)}function mr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ae(e,t)}function Ae(e,t){return Ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Ae(e,t)}function de(e,t,n){return t=it(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function it(e){var t=gr(e,"string");return G(t)=="symbol"?t:t+""}function gr(e,t){if(G(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(G(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pe=function(e){function t(){return fr(this,t),pr(this,t,arguments)}return mr(t,e),dr(t,[{key:"getTickValueCoord",value:function(r){var a=r.coordinate,o=this.props,i=o.angle,c=o.cx,l=o.cy;return I(c,l,a,i)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,a;switch(r){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var r=this.props,a=r.cx,o=r.cy,i=r.angle,c=r.ticks,l=tr(c,function(d){return d.coordinate||0}),s=sr(c,function(d){return d.coordinate||0});return{cx:a,cy:o,startAngle:i,endAngle:i,innerRadius:s.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,o=r.cy,i=r.angle,c=r.ticks,l=r.axisLine,s=Ce(r,cr),d=c.reduce(function(g,f){return[Math.min(g[0],f.coordinate),Math.max(g[1],f.coordinate)]},[1/0,-1/0]),v=I(a,o,d[0],i),p=I(a,o,d[1],i),m=F(F(F({},w(s,!1)),{},{fill:"none"},w(l,!1)),{},{x1:v.x,y1:v.y,x2:p.x,y2:p.y});return h.createElement("line",ee({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var r=this,a=this.props,o=a.ticks,i=a.tick,c=a.angle,l=a.tickFormatter,s=a.stroke,d=Ce(a,lr),v=this.getTickTextAnchor(),p=w(d,!1),m=w(i,!1),g=o.map(function(f,y){var A=r.getTickValueCoord(f),O=F(F(F(F({textAnchor:v,transform:"rotate(".concat(90-c,", ").concat(A.x,", ").concat(A.y,")")},p),{},{stroke:"none",fill:s},m),{},{index:y},A),{},{payload:f});return h.createElement(_,ee({className:B("recharts-polar-radius-axis-tick",tt(i)),key:"tick-".concat(f.coordinate)},Re(r.props,f,y)),t.renderTickItem(i,O,l?l(f.value,y):f.value))});return h.createElement(_,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,a=r.ticks,o=r.axisLine,i=r.tick;return!a||!a.length?null:h.createElement(_,{className:B("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),i&&this.renderTicks(),rt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,a,o){var i;return h.isValidElement(r)?i=h.cloneElement(r,a):M(r)?i=r(a):i=h.createElement(Pe,ee({},a,{className:"recharts-polar-radius-axis-tick-value"}),o),i}}])}(b.PureComponent);de(pe,"displayName","PolarRadiusAxis");de(pe,"axisType","radiusAxis");de(pe,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Z(e){"@babel/helpers - typeof";return Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z(e)}function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V.apply(this,arguments)}function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Be(Object(n),!0).forEach(function(r){ve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function br(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,st(r.key),r)}}function yr(e,t,n){return t&&ze(e.prototype,t),n&&ze(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function xr(e,t,n){return t=ue(t),Ar(e,ot()?Reflect.construct(t,n||[],ue(e).constructor):t.apply(e,n))}function Ar(e,t){if(t&&(Z(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Or(e)}function Or(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ot(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ot=function(){return!!e})()}function ue(e){return ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ue(e)}function kr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oe(e,t)}function Oe(e,t){return Oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Oe(e,t)}function ve(e,t,n){return t=st(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function st(e){var t=wr(e,"string");return Z(t)=="symbol"?t:t+""}function wr(e,t){if(Z(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Z(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jr=Math.PI/180,Fe=1e-5,he=function(e){function t(){return br(this,t),xr(this,t,arguments)}return kr(t,e),yr(t,[{key:"getTickLineCoord",value:function(r){var a=this.props,o=a.cx,i=a.cy,c=a.radius,l=a.orientation,s=a.tickSize,d=s||8,v=I(o,i,c,r.coordinate),p=I(o,i,c+(l==="inner"?-1:1)*d,r.coordinate);return{x1:v.x,y1:v.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(r){var a=this.props.orientation,o=Math.cos(-r.coordinate*jr),i;return o>Fe?i=a==="outer"?"start":"end":o<-Fe?i=a==="outer"?"end":"start":i="middle",i}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,o=r.cy,i=r.radius,c=r.axisLine,l=r.axisLineType,s=K(K({},w(this.props,!1)),{},{fill:"none"},w(c,!1));if(l==="circle")return h.createElement(xt,V({className:"recharts-polar-angle-axis-line"},s,{cx:a,cy:o,r:i}));var d=this.props.ticks,v=d.map(function(p){return I(a,o,i,p.coordinate)});return h.createElement(qt,V({className:"recharts-polar-angle-axis-line"},s,{points:v}))}},{key:"renderTicks",value:function(){var r=this,a=this.props,o=a.ticks,i=a.tick,c=a.tickLine,l=a.tickFormatter,s=a.stroke,d=w(this.props,!1),v=w(i,!1),p=K(K({},d),{},{fill:"none"},w(c,!1)),m=o.map(function(g,f){var y=r.getTickLineCoord(g),A=r.getTickTextAnchor(g),O=K(K(K({textAnchor:A},d),{},{stroke:"none",fill:s},v),{},{index:f,payload:g,x:y.x2,y:y.y2});return h.createElement(_,V({className:B("recharts-polar-angle-axis-tick",tt(i)),key:"tick-".concat(g.coordinate)},Re(r.props,g,f)),c&&h.createElement("line",V({className:"recharts-polar-angle-axis-tick-line"},p,y)),i&&t.renderTickItem(i,O,l?l(g.value,f):g.value))});return h.createElement(_,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,a=r.ticks,o=r.radius,i=r.axisLine;return o<=0||!a||!a.length?null:h.createElement(_,{className:B("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,a,o){var i;return h.isValidElement(r)?i=h.cloneElement(r,a):M(r)?i=r(a):i=h.createElement(Pe,V({},a,{className:"recharts-polar-angle-axis-tick-value"}),o),i}}])}(b.PureComponent);ve(he,"displayName","PolarAngleAxis");ve(he,"axisType","angleAxis");ve(he,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var ce;function J(e){"@babel/helpers - typeof";return J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(e)}function Y(){return Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y.apply(this,arguments)}function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ke(Object(n),!0).forEach(function(r){R(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lt(r.key),r)}}function Rr(e,t,n){return t&&Me(e.prototype,t),n&&Me(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _r(e,t,n){return t=fe(t),Sr(e,ct()?Reflect.construct(t,n||[],fe(e).constructor):t.apply(e,n))}function Sr(e,t){if(t&&(J(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tr(e)}function Tr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ct=function(){return!!e})()}function fe(e){return fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fe(e)}function Er(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ke(e,t)}function ke(e,t){return ke=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},ke(e,t)}function R(e,t,n){return t=lt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lt(e){var t=Dr(e,"string");return J(t)=="symbol"?t:t+""}function Dr(e,t){if(J(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(J(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L=function(e){function t(n){var r;return Pr(this,t),r=_r(this,t,[n]),R(r,"pieRef",null),R(r,"sectorRefs",[]),R(r,"id",Tt("recharts-pie-")),R(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),M(a)&&a()}),R(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),M(a)&&a()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Er(t,e),Rr(t,[{key:"isActiveIndex",value:function(r){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(r)!==-1:r===a}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.label,c=o.labelLine,l=o.dataKey,s=o.valueKey,d=w(this.props,!1),v=w(i,!1),p=w(c,!1),m=i&&i.offsetRadius||20,g=r.map(function(f,y){var A=(f.startAngle+f.endAngle)/2,O=I(f.cx,f.cy,f.outerRadius+m,A),k=x(x(x(x({},d),f),{},{stroke:"none"},v),{},{index:y,textAnchor:t.getTextAnchor(O.x,f.cx)},O),N=x(x(x(x({},d),f),{},{fill:"none",stroke:f.fill},p),{},{index:y,points:[I(f.cx,f.cy,f.outerRadius,A),O]}),j=l;return q(l)&&q(s)?j="value":q(l)&&(j=s),h.createElement(_,{key:"label-".concat(f.startAngle,"-").concat(f.endAngle,"-").concat(f.midAngle,"-").concat(y)},c&&t.renderLabelLineItem(c,N,"line"),t.renderLabelItem(i,k,W(f,j)))});return h.createElement(_,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(r){var a=this,o=this.props,i=o.activeShape,c=o.blendStroke,l=o.inactiveShape;return r.map(function(s,d){if((s==null?void 0:s.startAngle)===0&&(s==null?void 0:s.endAngle)===0&&r.length!==1)return null;var v=a.isActiveIndex(d),p=l&&a.hasActiveIndex()?l:null,m=v?i:p,g=x(x({},s),{},{stroke:c?s.fill:s.stroke,tabIndex:-1});return h.createElement(_,Y({ref:function(y){y&&!a.sectorRefs.includes(y)&&a.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},Re(a.props,s,d),{key:"sector-".concat(s==null?void 0:s.startAngle,"-").concat(s==null?void 0:s.endAngle,"-").concat(s.midAngle,"-").concat(d)}),h.createElement(Ot,Y({option:m,isActive:v,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,a=this.props,o=a.sectors,i=a.isAnimationActive,c=a.animationBegin,l=a.animationDuration,s=a.animationEasing,d=a.animationId,v=this.state,p=v.prevSectors,m=v.prevIsAnimationActive;return h.createElement(kt,{begin:c,duration:l,isActive:i,easing:s,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var f=g.t,y=[],A=o&&o[0],O=A.startAngle;return o.forEach(function(k,N){var j=p&&p[N],E=N>0?wt(k,"paddingAngle",0):0;if(j){var z=Ee(j.endAngle-j.startAngle,k.endAngle-k.startAngle),P=x(x({},k),{},{startAngle:O+E,endAngle:O+z(f)+E});y.push(P),O=P.endAngle}else{var D=k.endAngle,S=k.startAngle,re=Ee(0,D-S),ne=re(f),C=x(x({},k),{},{startAngle:O+E,endAngle:O+ne+E});y.push(C),O=C.endAngle}}),h.createElement(_,null,r.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(r){var a=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var i=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[i].focus(),a.setState({sectorToFocus:i});break}case"ArrowRight":{var c=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[c].focus(),a.setState({sectorToFocus:c});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,a=r.sectors,o=r.isAnimationActive,i=this.state.prevSectors;return o&&a&&a.length&&(!i||!jt(i,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,a=this.props,o=a.hide,i=a.sectors,c=a.className,l=a.label,s=a.cx,d=a.cy,v=a.innerRadius,p=a.outerRadius,m=a.isAnimationActive,g=this.state.isAnimationFinished;if(o||!i||!i.length||!U(s)||!U(d)||!U(v)||!U(p))return null;var f=B("recharts-pie",c);return h.createElement(_,{tabIndex:this.props.rootTabIndex,className:f,ref:function(A){r.pieRef=A}},this.renderSectors(),l&&this.renderLabels(i),rt.renderCallByParent(this.props,null,!1),(!m||g)&&Pt.renderCallByParent(this.props,i,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return a.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:r.sectors!==a.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,a){return r>a?"start":r<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,a,o){if(h.isValidElement(r))return h.cloneElement(r,a);if(M(r))return r(a);var i=B("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return h.createElement(At,Y({},a,{key:o,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(r,a,o){if(h.isValidElement(r))return h.cloneElement(r,a);var i=o;if(M(r)&&(i=r(a),h.isValidElement(i)))return i;var c=B("recharts-pie-label-text",typeof r!="boolean"&&!M(r)?r.className:"");return h.createElement(Pe,Y({},a,{alignmentBaseline:"middle",className:c}),i)}}])}(b.PureComponent);ce=L;R(L,"displayName","Pie");R(L,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Rt.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});R(L,"parseDeltaAngle",function(e,t){var n=se(t-e),r=Math.min(Math.abs(t-e),360);return n*r});R(L,"getRealPieData",function(e){var t=e.data,n=e.children,r=w(e,!1),a=_t(n,nt);return t&&t.length?t.map(function(o,i){return x(x(x({payload:o},r),o),a&&a[i]&&a[i].props)}):a&&a.length?a.map(function(o){return x(x({},r),o.props)}):[]});R(L,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,a=t.width,o=t.height,i=St(a,o),c=r+ae(e.cx,a,a/2),l=n+ae(e.cy,o,o/2),s=ae(e.innerRadius,i,0),d=ae(e.outerRadius,i,i*.8),v=e.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:c,cy:l,innerRadius:s,outerRadius:d,maxRadius:v}});R(L,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?x(x({},t.type.defaultProps),t.props):t.props,a=ce.getRealPieData(r);if(!a||!a.length)return null;var o=r.cornerRadius,i=r.startAngle,c=r.endAngle,l=r.paddingAngle,s=r.dataKey,d=r.nameKey,v=r.valueKey,p=r.tooltipType,m=Math.abs(r.minAngle),g=ce.parseCoordinateOfPie(r,n),f=ce.parseDeltaAngle(i,c),y=Math.abs(f),A=s;q(s)&&q(v)?(De(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),A="value"):q(s)&&(De(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),A=v);var O=a.filter(function(P){return W(P,A,0)!==0}).length,k=(y>=360?O:O-1)*l,N=y-O*m-k,j=a.reduce(function(P,D){var S=W(D,A,0);return P+(U(S)?S:0)},0),E;if(j>0){var z;E=a.map(function(P,D){var S=W(P,A,0),re=W(P,d,D),ne=(U(S)?S:0)/j,C;D?C=z.endAngle+se(f)*l*(S!==0?1:0):C=i;var _e=C+se(f)*((S!==0?m:0)+ne*N),Se=(C+_e)/2,Te=(g.innerRadius+g.outerRadius)/2,pt=[{name:re,value:S,payload:P,dataKey:A,type:p}],vt=I(g.cx,g.cy,Te,Se);return z=x(x(x({percent:ne,cornerRadius:o,name:re,tooltipPayload:pt,midAngle:Se,middleRadius:Te,tooltipPosition:vt},P),g),{},{value:W(P,A),startAngle:C,endAngle:_e,payload:P,paddingAngle:se(f)*l}),z})}return x(x({},g),{},{sectors:E,data:a})});var Ir=Et({chartName:"PieChart",GraphicalChild:L,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:he},{axisType:"radiusAxis",AxisComp:pe}],formatAxisMap:Dt,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Lr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Nr(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Cr(e){return"nodeType"in e}function $r(e){var t,n;return e?Nr(e)?e:Cr(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}const ut=Lr?b.useLayoutEffect:b.useEffect;function ft(e){const t=b.useRef(e);return ut(()=>{t.current=e}),b.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.current==null?void 0:t.current(...r)},[])}function Ve(e,t){t===void 0&&(t=[e]);const n=b.useRef(e);return ut(()=>{n.current!==e&&(n.current=e)},t),n}function Br(e){const t=ft(e),n=b.useRef(null),r=b.useCallback(a=>{a!==n.current&&(t==null||t(a,n.current)),n.current=a},[]);return[n,r]}let ye={};function zr(e,t){return b.useMemo(()=>{const n=ye[e]==null?0:ye[e]+1;return ye[e]=n,e+"-"+n},[e,t])}var te;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(te||(te={}));function We(){}const Fr=Object.freeze({x:0,y:0});function Kr(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Mr(e,t,n){const r=Kr(t);if(!r)return e;const{scaleX:a,scaleY:o,x:i,y:c}=r,l=e.left-i-(1-a)*parseFloat(n),s=e.top-c-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),d=a?e.width/a:e.width,v=o?e.height/o:e.height;return{width:d,height:v,top:s,right:l+d,bottom:s+v,left:l}}const Vr={ignoreTransform:!1};function dt(e,t){t===void 0&&(t=Vr);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:s,transformOrigin:d}=$r(e).getComputedStyle(e);s&&(n=Mr(n,s,d))}const{top:r,left:a,width:o,height:i,bottom:c,right:l}=n;return{top:r,left:a,width:o,height:i,bottom:c,right:l}}function Ue(e){return dt(e,{ignoreTransform:!0})}var H;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(H||(H={}));var Xe;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Xe||(Xe={}));var $;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})($||($={}));$.Space,$.Enter,$.Esc,$.Space,$.Enter,$.Tab;var Ye;(function(e){e[e.RightClick=2]="RightClick"})(Ye||(Ye={}));var He;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(He||(He={}));var qe;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(qe||(qe={}));H.Backward+"",H.Forward+"",H.Backward+"",H.Forward+"";var we;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(we||(we={}));var je;(function(e){e.Optimized="optimized"})(je||(je={}));function Wr(e){let{callback:t,disabled:n}=e;const r=ft(t),a=b.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return b.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}we.WhileDragging,je.Optimized;const Ur={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:We,draggableNodes:new Map,over:null,measureDroppableContainers:We},Xr=b.createContext(Ur);({...Fr});var Ge;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ge||(Ge={}));const Yr="Droppable",Hr={timeout:25};function qr(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:a}=e;const o=zr(Yr),{active:i,dispatch:c,over:l,measureDroppableContainers:s}=b.useContext(Xr),d=b.useRef({disabled:n}),v=b.useRef(!1),p=b.useRef(null),m=b.useRef(null),{disabled:g,updateMeasurementsFor:f,timeout:y}={...Hr,...a},A=Ve(f??r),O=b.useCallback(()=>{if(!v.current){v.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{s(Array.isArray(A.current)?A.current:[A.current]),m.current=null},y)},[y]),k=Wr({callback:O,disabled:g||!i}),N=b.useCallback((P,D)=>{k&&(D&&(k.unobserve(D),v.current=!1),P&&k.observe(P))},[k]),[j,E]=Br(N),z=Ve(t);return b.useEffect(()=>{!k||!j.current||(k.disconnect(),v.current=!1,k.observe(j.current))},[j,k]),b.useEffect(()=>(c({type:te.RegisterDroppable,element:{id:r,key:o,disabled:n,node:j,rect:p,data:z}}),()=>c({type:te.UnregisterDroppable,key:o,id:r})),[r]),b.useEffect(()=>{n!==d.current.disabled&&(c({type:te.SetDroppableDisabled,id:r,key:o,disabled:n}),d.current.disabled=n)},[r,o,n,c]),{active:i,rect:p,isOver:(l==null?void 0:l.id)===r,node:j,over:l,setNodeRef:E}}const Ze=({id:e,label:t,items:n,onRemove:r})=>{const{setNodeRef:a,isOver:o}=qr({id:e});return u.jsxs("div",{ref:a,className:ht("border-2 border-dashed rounded-lg p-4 min-h-[100px] transition-colors",o?"border-primary bg-primary/5":"border-border bg-muted/20"),children:[u.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:t}),u.jsx("div",{className:"flex flex-wrap gap-2",children:n.length===0?u.jsx("span",{className:"text-xs text-muted-foreground",children:"Drop here"}):n.map(i=>u.jsxs(gt,{variant:"secondary",className:"flex items-center gap-1",children:[i,u.jsx(mt,{className:"h-3 w-3 cursor-pointer hover:text-destructive",onClick:()=>r(i)})]},i))})]})},T=["hsl(var(--primary))","hsl(var(--secondary))","hsl(var(--accent))","hsl(var(--chart-1))","hsl(var(--chart-2))"];function en({dimensions:e,metrics:t,chartType:n,chartData:r,onRemoveDimension:a,onRemoveMetric:o}){const[i,c]=b.useState({width:0,height:0}),l=b.useRef(null),s=b.useCallback(()=>{l.current&&c({width:l.current.offsetWidth,height:Math.max(400,l.current.offsetHeight-100)})},[]);b.useEffect(()=>(s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)),[s]);const d=()=>{if(e.length===0||t.length===0)return u.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[u.jsx("div",{className:"text-muted-foreground mb-4",children:u.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),u.jsx("h3",{className:"text-lg font-medium mb-1",children:"No Data Configured"}),u.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:"Drag and drop dimensions to the X-axis and metrics to the Y-axis to start building your chart."})]});if(r.length===0)return u.jsx("div",{className:"flex items-center justify-center h-full",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),u.jsx("p",{className:"text-muted-foreground",children:"Loading chart data..."})]})});const v={data:r,margin:{top:20,right:30,left:20,bottom:20}};switch(n){case"line":return u.jsxs(Bt,{...v,children:[u.jsx(me,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),u.jsx(ge,{dataKey:"name",stroke:"hsl(var(--foreground))"}),u.jsx(be,{stroke:"hsl(var(--foreground))"}),u.jsx(ie,{contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))"}}),u.jsx(oe,{}),t.map((p,m)=>u.jsx(zt,{type:"monotone",dataKey:p,name:p,stroke:T[m%T.length],strokeWidth:2},p))]});case"area":return u.jsxs(Nt,{...v,children:[u.jsx(me,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),u.jsx(ge,{dataKey:"name",stroke:"hsl(var(--foreground))"}),u.jsx(be,{stroke:"hsl(var(--foreground))"}),u.jsx(ie,{contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))"}}),u.jsx(oe,{}),t.map((p,m)=>u.jsx(Ct,{type:"monotone",dataKey:p,name:p,stroke:T[m%T.length],fill:T[m%T.length],fillOpacity:.3},p))]});case"pie":return u.jsxs(Ir,{children:[u.jsx(L,{data:r,cx:"50%",cy:"50%",labelLine:!1,label:({name:p,percent:m})=>`${p}: ${(m*100).toFixed(0)}%`,outerRadius:120,fill:"hsl(var(--primary))",dataKey:t[0]||"value",children:r.map((p,m)=>u.jsx(nt,{fill:T[m%T.length]},`cell-${m}`))}),u.jsx(ie,{contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))"}}),u.jsx(oe,{})]});default:return u.jsxs($t,{...v,children:[u.jsx(me,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),u.jsx(ge,{dataKey:"name",stroke:"hsl(var(--foreground))"}),u.jsx(be,{stroke:"hsl(var(--foreground))"}),u.jsx(ie,{contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))"}}),u.jsx(oe,{}),t.map((p,m)=>u.jsx(Lt,{dataKey:p,name:p,fill:T[m%T.length]},p))]})}};return u.jsxs("div",{className:"flex flex-col gap-4 h-full",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(Ze,{id:"x-axis",label:"X-Axis (Dimensions)",items:e,onRemove:a}),u.jsx(Ze,{id:"y-axis",label:"Y-Axis (Metrics)",items:t,onRemove:o})]}),u.jsx("div",{className:"bg-background rounded-lg border p-4 flex-1 min-h-0",ref:l,children:u.jsx("div",{className:"w-full h-full min-h-[300px]",children:u.jsx(It,{width:"100%",height:"100%",children:d()})})})]})}export{en as default};
