import{c as m,r as l,j as e,b as o,a as N}from"./index-DSFFrQsM.js";import{D as w}from"./DashboardLayout-CCaVUtMe.js";import{C as T,a as g,b as k,d as v}from"./card-DPKASb5y.js";import{B as c}from"./button-DtJ95iGN.js";import{B as h}from"./badge-2qECVRwc.js";import{A as R}from"./api-DS5URhHX.js";import"./users-CXfmY8tg.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=m("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=m("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=m("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),x=l.forwardRef(({className:t,...r},s)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:s,className:o("w-full caption-bottom text-sm",t),...r})}));x.displayName="Table";const f=l.forwardRef(({className:t,...r},s)=>e.jsx("thead",{ref:s,className:o("[&_tr]:border-b",t),...r}));f.displayName="TableHeader";const j=l.forwardRef(({className:t,...r},s)=>e.jsx("tbody",{ref:s,className:o("[&_tr:last-child]:border-0",t),...r}));j.displayName="TableBody";const A=l.forwardRef(({className:t,...r},s)=>e.jsx("tfoot",{ref:s,className:o("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...r}));A.displayName="TableFooter";const n=l.forwardRef(({className:t,...r},s)=>e.jsx("tr",{ref:s,className:o("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...r}));n.displayName="TableRow";const d=l.forwardRef(({className:t,...r},s)=>e.jsx("th",{ref:s,className:o("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...r}));d.displayName="TableHead";const i=l.forwardRef(({className:t,...r},s)=>e.jsx("td",{ref:s,className:o("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...r}));i.displayName="TableCell";const B=l.forwardRef(({className:t,...r},s)=>e.jsx("caption",{ref:s,className:o("mt-4 text-sm text-muted-foreground",t),...r}));B.displayName="TableCaption";function I(){const[t,r]=l.useState([]),{toast:s}=N();l.useEffect(()=>{u()},[]);const u=async()=>{try{const a=await fetch(R.USERS,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!a.ok)throw new Error("Failed to fetch users");const b=await a.json();r(b)}catch(a){console.error("Error fetching users:",a),s({title:"Error",description:"Failed to load users. Please try again later.",variant:"destructive"})}},p=a=>{s({title:"Delete user",description:`User ${a} would be deleted`})},y=a=>{s({title:"Edit user",description:`Edit form for user ${a}`})};return e.jsx(w,{children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"User Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage users and their permissions"})]}),e.jsxs(c,{children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),"Add User"]})]}),e.jsxs(T,{children:[e.jsx(g,{children:e.jsx(k,{children:"All Users"})}),e.jsx(v,{children:e.jsxs(x,{children:[e.jsx(f,{children:e.jsxs(n,{children:[e.jsx(d,{children:"Name"}),e.jsx(d,{children:"Email"}),e.jsx(d,{children:"Role"}),e.jsx(d,{children:"Status"}),e.jsx(d,{className:"text-right",children:"Actions"})]})}),e.jsx(j,{children:t.map(a=>e.jsxs(n,{children:[e.jsx(i,{className:"font-medium",children:a.name}),e.jsx(i,{children:a.email}),e.jsx(i,{children:e.jsx(h,{variant:a.role==="Admin"?"default":"secondary",children:a.role})}),e.jsx(i,{children:e.jsx(h,{variant:a.status==="Active"?"default":"outline",children:a.status})}),e.jsxs(i,{className:"text-right",children:[e.jsx(c,{variant:"ghost",size:"icon",onClick:()=>y(a.id),children:e.jsx(C,{className:"h-4 w-4"})}),e.jsx(c,{variant:"ghost",size:"icon",onClick:()=>p(a.id),children:e.jsx(E,{className:"h-4 w-4"})})]})]},a.id))})]})})]})]})})}export{I as default};
