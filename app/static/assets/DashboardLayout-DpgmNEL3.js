import{c as i,r as n,j as e,au as S,d as s,a3 as b,a4 as g,am as M,X as z,an as y,ao as w,a1 as L,ap as D,a2 as U,at as R,b as T,B as u}from"./index-D_nV2UWA.js";import{T as m,U as I}from"./users-DhhjNrBa.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=i("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=i("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=i("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=i("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=i("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=i("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=i("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=i("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=i("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),v=n.forwardRef(({className:o,activeClassName:r,pendingClassName:t,to:l,...a},c)=>e.jsx(S,{ref:c,to:l,className:({isActive:h,isPending:p})=>s(o,h&&r,p&&t),...a}));v.displayName="NavLink";const P=L,X=D,Z=U,j=n.forwardRef(({className:o,...r},t)=>e.jsx(b,{className:s("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",o),...r,ref:t}));j.displayName=b.displayName;const _=R("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),N=n.forwardRef(({side:o="right",className:r,children:t,...l},a)=>e.jsxs(Z,{children:[e.jsx(j,{}),e.jsxs(g,{ref:a,className:s(_({side:o}),r),...l,children:[t,e.jsxs(M,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[e.jsx(z,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));N.displayName=g.displayName;const $=n.forwardRef(({className:o,...r},t)=>e.jsx(y,{ref:t,className:s("text-lg font-semibold text-foreground",o),...r}));$.displayName=y.displayName;const G=n.forwardRef(({className:o,...r},t)=>e.jsx(w,{ref:t,className:s("text-sm text-muted-foreground",o),...r}));G.displayName=w.displayName;const J=o=>{const r=[{title:"Upload Data",url:"/upload",icon:V,roles:["admin"]},{title:"Shift Records",url:"/records",icon:F,roles:["admin","manager"]},{title:"Chart Builder",url:"/chart-builder",icon:m,roles:["admin","manager"]},{title:"Admin Metrics",url:"/admin/metrics",icon:E,roles:["admin"]},{title:"User Management",url:"/users",icon:I,roles:["admin"]},{title:"My Profile",url:"/profile",icon:B}],t=[];return o==="admin"?(t.push({title:"Financial Dashboard",url:"/dashboard/financial",icon:m}),t.push({title:"Operational Dashboard",url:"/dashboard/operational",icon:f})):t.push({title:"Dashboard",url:"/dashboard/operational",icon:f}),[...t,...r.filter(l=>!l.roles||o&&l.roles.includes(o))]};function Y({children:o,noPadding:r,fullWidth:t}){const{role:l}=T(),[a,c]=n.useState(()=>typeof window<"u"?localStorage.getItem("sidebarCollapsed")==="true":!1);n.useEffect(()=>{localStorage.setItem("sidebarCollapsed",String(a))},[a]);const h=()=>{localStorage.removeItem("auth_token"),window.location.href="/auth"},p=()=>{c(!a)},x=({showTooltip:k=!1})=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:s("p-3 border-b border-sidebar-border overflow-hidden transition-all duration-300","flex items-center"),children:e.jsx("h1",{className:s("text-lg font-bold text-sidebar-foreground whitespace-nowrap transition-all duration-300",a&&"opacity-0 w-0"),children:"Analytics Dashboard"})}),e.jsx("nav",{className:"flex-1 p-3 space-y-1 text-sm",children:J(l).map(d=>{const C=d.icon;return e.jsxs(v,{to:d.url,className:s("flex items-center gap-3 px-4 py-3 rounded-lg text-sidebar-foreground/70","hover:bg-sidebar-accent hover:text-sidebar-foreground transition-colors",a?"justify-center px-2":""),activeClassName:"bg-sidebar-accent text-sidebar-primary font-medium",children:[e.jsx(C,{className:"h-5 w-5 flex-shrink-0"}),e.jsx("span",{className:s("transition-opacity duration-300 whitespace-nowrap",a?"opacity-0 w-0 hidden":"opacity-100"),children:d.title}),k&&e.jsx("div",{className:"absolute left-full ml-2 px-2 py-1 bg-foreground text-background text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-50",children:d.title})]},d.title)})}),e.jsx("div",{className:s("p-3 border-t border-sidebar-border overflow-hidden transition-all duration-300",a?"px-2":""),children:e.jsxs(u,{variant:"ghost",className:s("w-full justify-start text-sidebar-foreground/70 hover:bg-sidebar-accent hover:text-sidebar-foreground text-sm",a?"justify-center px-2":""),onClick:h,children:[e.jsx(O,{className:s("h-4 w-4 flex-shrink-0",!a&&"mr-2")}),e.jsx("span",{className:s("transition-opacity duration-300 whitespace-nowrap",a?"opacity-0 w-0 hidden":"opacity-100"),children:"Logout"})]})})]});return e.jsxs("div",{className:"flex h-[100dvh] overflow-hidden bg-background",children:[e.jsx("aside",{className:s("hidden lg:flex bg-sidebar flex-col flex-shrink-0 transition-all duration-300 ease-in-out z-10 h-screen",a?"w-16":"w-56"),children:e.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[e.jsx(x,{showTooltip:a}),e.jsx("div",{className:"absolute -right-3 top-4 z-10",children:e.jsx(u,{onClick:p,variant:"outline",size:"icon",className:"rounded-full w-6 h-6 bg-background border-border shadow-md hover:bg-accent","aria-label":a?"Expand sidebar":"Collapse sidebar",children:a?e.jsx(H,{className:"h-4 w-4"}):e.jsx(q,{className:"h-4 w-4"})})})]})}),e.jsxs("div",{className:"lg:hidden fixed top-0 left-0 right-0 h-16 bg-card border-b border-border z-40 flex items-center px-4",children:[e.jsxs(P,{children:[e.jsx(X,{asChild:!0,children:e.jsx(u,{variant:"ghost",size:"icon",children:e.jsx(A,{className:"h-6 w-6"})})}),e.jsx(N,{side:"left",className:"w-56 p-0 bg-sidebar",children:e.jsx(x,{})})]}),e.jsx("h1",{className:"ml-4 text-lg font-bold",children:"Analytics Dashboard"})]}),e.jsx("main",{className:s("flex-1 transition-all duration-300 ease-in-out overflow-auto min-w-0","pt-16 lg:pt-0 h-full flex flex-col lg:pl-4",!r&&!t&&"lg:pt-6 px-6"),children:e.jsx("div",{className:s("h-full flex flex-col",!t&&"max-w-7xl mx-auto py-4 w-full"),children:o})})]})}export{V as C,Y as D,F,f as L,B as U,q as a,H as b};
