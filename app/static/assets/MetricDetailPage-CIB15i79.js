import{c as Xe,h as Qe,r as o,U as Ze,p as es,j as e,v as ss,P as ee,q as re,w as as,e as le,B as _,I as ve,L as ts,y as L,a3 as rs,u as ns,d as is,A as ne}from"./index-D1klQVMP.js";import{D as os}from"./DashboardLayout-CTXFZdja.js";import{C as V,d as H,a as pe,b as ye}from"./card-BP-weWrw.js";import{c as be,R as ls,I as cs,P as ds}from"./index-CD5TiNmD.js";import{D as us}from"./DashboardHeader-t23N1XQL.js";import{u as hs,O as ms}from"./OperationalTrendChart-DGQTxPXK.js";import{u as xs,L as gs,R as vs}from"./LoadingOverlay-C2VGABXk.js";import{R as Ne,C as fs,X as js,Y as ps,T as Se,B as ys,a as Ce,L as bs}from"./generateCategoricalChart-PzojzP6U.js";import{B as Ns}from"./BarChart-Ig2B98aC.js";import{P as Ss,a as Cs}from"./PieChart-CXF9FsDJ.js";import{T as Te,a as Ae,b as W,c as R,d as Le,e as T,f as Ts}from"./table-BPnpFJXt.js";import{P as As}from"./pen-6GWiErnC.js";import{T as Ls}from"./trash-2-CZhCayvR.js";import{D as Rs,b as Fs,c as Ds,d as ks,f as Is,e as Ms}from"./dialog-Bm_yUuwy.js";import{L as I}from"./label-yMpFyRUm.js";import{S as U,a as Y,b as q,c as J,d as O}from"./select-5mFX41LU.js";import{u as ws}from"./useRecords-BY4xFMFE.js";import{f as Q}from"./popover-ByNRux1p.js";import"./users-pPTyOrIf.js";import"./locationUtils-CPV8str3.js";import"./index-BgY1qCIR.js";import"./Line-9Fy2ZiMk.js";import"./AreaChart-BmNpYuDK.js";import"./useQuery-CpJKggsR.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=Xe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var se="Tabs",[Ps,xa]=Qe(se,[be]),Re=be(),[Os,ce]=Ps(se),Fe=o.forwardRef((s,r)=>{const{__scopeTabs:a,value:i,onValueChange:l,defaultValue:f,orientation:x="horizontal",dir:j,activationMode:g="automatic",...b}=s,d=Ze(j),[u,v]=es({prop:i,onChange:l,defaultProp:f??"",caller:se});return e.jsx(Os,{scope:a,baseId:ss(),value:u,onValueChange:v,orientation:x,dir:d,activationMode:g,children:e.jsx(ee.div,{dir:d,"data-orientation":x,...b,ref:r})})});Fe.displayName=se;var De="TabsList",ke=o.forwardRef((s,r)=>{const{__scopeTabs:a,loop:i=!0,...l}=s,f=ce(De,a),x=Re(a);return e.jsx(ls,{asChild:!0,...x,orientation:f.orientation,dir:f.dir,loop:i,children:e.jsx(ee.div,{role:"tablist","aria-orientation":f.orientation,...l,ref:r})})});ke.displayName=De;var Ie="TabsTrigger",Me=o.forwardRef((s,r)=>{const{__scopeTabs:a,value:i,disabled:l=!1,...f}=s,x=ce(Ie,a),j=Re(a),g=Pe(x.baseId,i),b=Oe(x.baseId,i),d=i===x.value;return e.jsx(cs,{asChild:!0,...j,focusable:!l,active:d,children:e.jsx(ee.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":b,"data-state":d?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:g,...f,ref:r,onMouseDown:re(s.onMouseDown,u=>{!l&&u.button===0&&u.ctrlKey===!1?x.onValueChange(i):u.preventDefault()}),onKeyDown:re(s.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&x.onValueChange(i)}),onFocus:re(s.onFocus,()=>{const u=x.activationMode!=="manual";!d&&!l&&u&&x.onValueChange(i)})})})});Me.displayName=Ie;var we="TabsContent",Ee=o.forwardRef((s,r)=>{const{__scopeTabs:a,value:i,forceMount:l,children:f,...x}=s,j=ce(we,a),g=Pe(j.baseId,i),b=Oe(j.baseId,i),d=i===j.value,u=o.useRef(d);return o.useEffect(()=>{const v=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(v)},[]),e.jsx(as,{present:l||d,children:({present:v})=>e.jsx(ee.div,{"data-state":d?"active":"inactive","data-orientation":j.orientation,role:"tabpanel","aria-labelledby":g,hidden:!v,id:b,tabIndex:0,...x,ref:r,style:{...s.style,animationDuration:u.current?"0s":void 0},children:v&&f})})});Ee.displayName=we;function Pe(s,r){return`${s}-trigger-${r}`}function Oe(s,r){return`${s}-content-${r}`}var $s=Fe,$e=ke,Be=Me,_e=Ee;const Bs=$s,Ve=o.forwardRef(({className:s,...r},a)=>e.jsx($e,{ref:a,className:le("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...r}));Ve.displayName=$e.displayName;const $=o.forwardRef(({className:s,...r},a)=>e.jsx(Be,{ref:a,className:le("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",s),...r}));$.displayName=Be.displayName;const B=o.forwardRef(({className:s,...r},a)=>e.jsx(_e,{ref:a,className:le("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...r}));B.displayName=_e.displayName;const _s=({active:s,payload:r,label:a})=>s&&r&&r.length?e.jsxs("div",{className:"bg-background border border-border p-3 rounded-lg shadow-lg",children:[e.jsx("p",{className:"font-semibold text-foreground",children:a}),e.jsx("p",{className:"text-sm",children:r[0].value.toLocaleString(void 0,{style:"currency",currency:"GBP"})})]}):null,ie=({data:s,metric:r,onBarClick:a})=>!s||s.length===0?e.jsx("div",{className:"h-[300px] flex items-center justify-center border rounded-md",children:e.jsx("p",{className:"text-muted-foreground",children:"No breakdown data available"})}):e.jsx(V,{children:e.jsx(H,{className:"pt-6",children:e.jsx("div",{className:"h-[400px]",children:e.jsx(Ne,{width:"100%",height:"100%",children:e.jsxs(Ns,{data:s,layout:"vertical",margin:{top:5,right:30,left:40,bottom:5},children:[e.jsx(fs,{strokeDasharray:"3 3",horizontal:!1}),e.jsx(js,{type:"number",hide:!0}),e.jsx(ps,{dataKey:"name",type:"category",width:120,tick:{fontSize:12}}),e.jsx(Se,{content:e.jsx(_s,{})}),e.jsx(ys,{dataKey:"value",fill:"hsl(var(--primary))",radius:[0,4,4,0],onClick:a,children:s.map((i,l)=>e.jsx(Ce,{fill:"hsl(var(--primary))",fillOpacity:.8+l*.05},`cell-${l}`))})]})})})})}),fe=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d","#ffc658","#8dd1e1","#a4de6c","#d0ed57"],Vs=({active:s,payload:r})=>s&&r&&r.length?e.jsxs("div",{className:"bg-background border border-border p-3 rounded-lg shadow-lg",children:[e.jsx("p",{className:"font-semibold",children:r[0].name}),e.jsx("p",{className:"text-sm",children:Number(r[0].value).toLocaleString(void 0,{style:"currency",currency:"GBP"})}),e.jsx("p",{className:"text-xs text-muted-foreground",children:`${((r[0].payload.percent||0)*100).toFixed(1)}%`})]}):null,Z=({data:s,metric:r})=>{if(!s||s.length===0)return e.jsx(V,{children:e.jsx(H,{className:"pt-6",children:e.jsx("div",{className:"h-[300px] flex items-center justify-center",children:e.jsx("p",{className:"text-muted-foreground",children:"No distribution data available"})})})});const a=[...s].sort((i,l)=>l.value-i.value);return e.jsx(V,{children:e.jsx(H,{className:"pt-6",children:e.jsx("div",{className:"h-[400px]",children:e.jsx(Ne,{width:"100%",height:"100%",children:e.jsxs(Ss,{children:[e.jsx(Cs,{data:a,cx:"50%",cy:"50%",labelLine:!1,outerRadius:120,fill:"#8884d8",dataKey:"value",children:a.map((i,l)=>e.jsx(Ce,{fill:fe[l%fe.length]},`cell-${l}`))}),e.jsx(Se,{content:e.jsx(Vs,{})}),e.jsx(bs,{})]})})})})})},Hs=({data:s,onEdit:r,onDelete:a})=>!s||s.length===0?e.jsx("div",{className:"h-[200px] flex items-center justify-center border rounded-md",children:e.jsx("p",{className:"text-muted-foreground",children:"No overhead details available"})}):e.jsxs(V,{children:[e.jsx(pe,{children:e.jsx(ye,{children:"Overheads Details"})}),e.jsx(H,{children:e.jsxs(Te,{children:[e.jsx(Ae,{children:e.jsxs(W,{children:[e.jsx(R,{children:"Title"}),e.jsx(R,{children:"Month"}),e.jsx(R,{children:"Location"}),e.jsx(R,{children:"Site"}),e.jsx(R,{className:"text-right",children:"Amount"}),e.jsx(R,{className:"w-[100px]",children:"Actions"})]})}),e.jsx(Le,{children:s.map(i=>e.jsxs(W,{children:[e.jsx(T,{className:"font-medium",children:i.name}),e.jsxs(T,{children:[i.month," ",i.year]}),e.jsx(T,{children:i.location||"-"}),e.jsx(T,{children:i.site||"-"}),e.jsx(T,{className:"text-right",children:i.value.toLocaleString(void 0,{style:"currency",currency:"GBP"})}),e.jsx(T,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{variant:"ghost",size:"icon",className:"h-8 w-8 text-blue-500 hover:text-blue-600",onClick:()=>r(i),children:e.jsx(As,{className:"h-4 w-4"})}),e.jsx(_,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-500 hover:text-red-600",onClick:()=>a(i.id),children:e.jsx(Ls,{className:"h-4 w-4"})})]})})]},i.id))})]})})]}),oe=["January","February","March","April","May","June","July","August","September","October","November","December"],je=["Rent","Salaries","Utilities","Software","Equipment","Marketing","Travel","Insurance","Taxes","Maintenance","Custom..."],zs=({open:s,onOpenChange:r,initialData:a,onSave:i})=>{var K,D;const{data:l}=ws(),[f,x]=o.useState(!1),[j,g]=o.useState(new Date().getFullYear()),[b,d]=o.useState(oe[new Date().getMonth()]),[u,v]=o.useState(""),[X,p]=o.useState(""),[F,N]=o.useState(""),[M,w]=o.useState(""),[E,z]=o.useState("");o.useEffect(()=>{s&&(a?(g(a.year),d(a.month),v(a.location||""),p(a.site||""),z(a.value.toString()),je.includes(a.name)?(N(a.name),w("")):(N("Custom..."),w(a.name))):(g(new Date().getFullYear()),d(oe[new Date().getMonth()]),v(""),p(""),N(""),w(""),z("")))},[s,a]);const P=async()=>{if(!u||!F||!E){L.error("Please fill in all required fields");return}const t=F==="Custom..."?M:F;if(!t){L.error("Please specify the overhead name");return}x(!0);try{await i({id:a==null?void 0:a.id,year:j,month:b,location:u,site:X||null,name:t,value:parseFloat(E)}),r(!1)}catch(k){console.error("Failed to save overhead:",k)}finally{x(!1)}},G=((K=l==null?void 0:l.jobs)==null?void 0:K.filter(t=>t.location===u&&t.site).map(t=>t.site).filter((t,k,y)=>y.indexOf(t)===k))||[];return e.jsx(Rs,{open:s,onOpenChange:r,children:e.jsxs(Fs,{className:"sm:max-w-[500px]",children:[e.jsxs(Ds,{children:[e.jsx(ks,{children:a?"Edit Overhead":"Add Overhead"}),e.jsx(Is,{children:a?"Update existing overhead record.":"Create a new overhead record."})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(I,{children:"Year"}),e.jsxs(U,{value:j.toString(),onValueChange:t=>g(Number(t)),children:[e.jsx(Y,{children:e.jsx(q,{})}),e.jsx(J,{children:[2024,2025,2026,2027,2028].map(t=>e.jsx(O,{value:t.toString(),children:t},t))})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(I,{children:"Month"}),e.jsxs(U,{value:b,onValueChange:d,children:[e.jsx(Y,{children:e.jsx(q,{})}),e.jsx(J,{children:oe.map(t=>e.jsx(O,{value:t,children:t},t))})]})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(I,{children:"Location"}),e.jsxs(U,{value:u,onValueChange:t=>{v(t),p("")},children:[e.jsx(Y,{children:e.jsx(q,{placeholder:"Select location..."})}),e.jsx(J,{children:Array.from(new Set((D=l==null?void 0:l.jobs)==null?void 0:D.map(t=>t.location).filter(Boolean))).map(t=>e.jsx(O,{value:t,children:t},t))})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(I,{children:"Site (Optional)"}),e.jsxs(U,{value:X,onValueChange:p,disabled:!u||G.length===0,children:[e.jsx(Y,{children:e.jsx(q,{placeholder:G.length===0?"No sites available":"Select site..."})}),e.jsxs(J,{children:[e.jsx(O,{value:"all_sites",children:"All Sites (if applicable)"}),G.map(t=>e.jsx(O,{value:t,children:t},t))]})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(I,{children:"Category"}),e.jsxs(U,{value:F,onValueChange:N,children:[e.jsx(Y,{children:e.jsx(q,{placeholder:"Select category..."})}),e.jsx(J,{children:je.map(t=>e.jsx(O,{value:t,children:t},t))})]})]}),F==="Custom..."&&e.jsxs("div",{className:"grid gap-2",children:[e.jsx(I,{children:"Custom Name"}),e.jsx(ve,{placeholder:"Enter overhead name",value:M,onChange:t=>w(t.target.value)})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(I,{children:"Value (£)"}),e.jsx(ve,{type:"number",placeholder:"0.00",value:E,onChange:t=>z(t.target.value)})]})]}),e.jsxs(Ms,{children:[e.jsx(_,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),e.jsxs(_,{onClick:P,disabled:f,children:[f&&e.jsx(ts,{className:"mr-2 h-4 w-4 animate-spin"}),"Save"]})]})]})})},ga=()=>{const{metricId:s}=rs(),r=ns(),{dateRange:a,setDateRange:i}=is(),[l,f]=o.useState(!1),[x,j]=o.useState(a),[g,b]=o.useState([]),[d,u]=o.useState([]),[v,X]=o.useState("trend"),[p,F]=o.useState([]),[N,M]=o.useState([]),[w,E]=o.useState(!1),[z,P]=o.useState(!1),[G,K]=o.useState(null),D=["revenue","cost","profit","employees","clientRate","staffRate","overheads"].includes(s||""),t=["shifts","hours","clients","targetAchievement","missedTargets"].includes(s||""),k=s==="overheads",{operationalData:y,isLoading:He}=hs(a,g,d),{financialData:S,isLoading:ze}=xs(a,g,d),Ge=D?ze:t?He:!1;o.useEffect(()=>{if(v==="trend"||!s)return;const n=async()=>{E(!0);try{const c=new URLSearchParams({start:Q(a.from,"yyyy-MM-dd"),end:Q(a.to,"yyyy-MM-dd"),metric:s,limit:"20"});g&&g.length>0&&g.forEach(m=>c.append("locations",m)),d&&d.length>0&&d.forEach(m=>c.append("sites",m));const h={Authorization:`Bearer ${localStorage.getItem("auth_token")}`};if(v==="details"&&k){const m=await fetch(`${ne.FINANCIAL_METRICS_LIST}?${c.toString()}`,{headers:h});if(m.ok){const C=await m.json();M(C)}}else if(["location","site","client"].includes(v)){c.append("dimension",v);const m=await fetch(`${ne.BREAKDOWN}?${c.toString()}`,{headers:h});if(m.ok){const C=await m.json();F(C)}}}catch(c){console.error("Error fetching breakdown:",c)}finally{E(!1)}};n(),n()},[v,s,a,g,d]);const Ke=()=>{K(null),P(!0)},Ue=n=>{K(n),P(!0)},Ye=async n=>{if(confirm("Are you sure you want to delete this overhead?"))try{const c=await fetch(`/api/admin/financial-metrics/${n}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(c.ok)L.success("Overhead deleted"),v==="details"&&M(h=>h.filter(m=>m.id!==n));else{const h=await c.json();L.error(h.error||"Failed to delete")}}catch(c){console.error(c),L.error("Failed to delete")}},qe=async n=>{try{const c=await fetch("/api/admin/financial-metrics",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify(n)});if(c.ok){L.success("Overhead saved"),P(!1);const h=new URLSearchParams({start:Q(a.from,"yyyy-MM-dd"),end:Q(a.to,"yyyy-MM-dd"),metric:s||"overheads",limit:"20"});g&&g.forEach(A=>h.append("locations",A)),d&&d.forEach(A=>h.append("sites",A));const m={Authorization:`Bearer ${localStorage.getItem("auth_token")}`},C=await fetch(`${ne.FINANCIAL_METRICS_LIST}?${h.toString()}`,{headers:m});if(C.ok){const A=await C.json();M(A)}}else{const h=await c.json();L.error(h.error||"Failed to save")}}catch(c){console.error(c),L.error("Failed to save")}},de=n=>{switch(n){case"revenue":return"Revenue Analysis";case"cost":return"Cost Analysis";case"profit":return"Profit Analysis";case"shifts":return"Shifts Analysis";case"hours":return"Hours Analysis";case"clients":return"Client Analysis";case"employees":return"Employee Analysis";case"targetAchievement":return"Target Achievement Analysis";case"missedTargets":return"Missed Targets Analysis";case"clientRate":return"Client Rate Analysis";case"staffRate":return"Staff Rate Analysis";case"overheads":return"Overheads Analysis";default:return"Metric Analysis"}},Je=(n,c)=>{var h,m,C,A,ue,he,me,xe,ge;if(!n)return"-";switch(c){case"revenue":return`£${((h=n.revenue)==null?void 0:h.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))??0}`;case"cost":return`£${((m=n.cost)==null?void 0:m.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))??0}`;case"profit":const te=n.profit??n.revenue-n.cost-(n.overheads||0);return`£${(te==null?void 0:te.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))??0}`;case"shifts":return((C=n.totalShifts)==null?void 0:C.toLocaleString())??0;case"hours":return((A=n.paidHours)==null?void 0:A.toLocaleString(void 0,{maximumFractionDigits:1}))??0;case"clients":return((ue=n.clientCount)==null?void 0:ue.toLocaleString())??0;case"employees":return((he=n.paidHours)==null?void 0:he.toLocaleString(void 0,{maximumFractionDigits:1}))??0;case"targetAchievement":return`${((me=n.achievementPercentage)==null?void 0:me.toFixed(1))??0}%`;case"missedTargets":return`${((xe=n.achievementPercentage)==null?void 0:xe.toFixed(1))??0}%`;case"clientRate":return`£${(n.revenue/n.paidHours||0).toFixed(2)}`;case"staffRate":return`£${(n.cost/n.paidHours||0).toFixed(2)}`;case"overheads":return`£${((ge=n.overheads)==null?void 0:ge.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))??0}`;default:return"-"}},We=o.useMemo(()=>{if(!N||N.length===0)return[];const n=N.reduce((c,h)=>{const m=h.name||"Unknown";return c[m]||(c[m]=0),c[m]+=h.value,c},{});return Object.entries(n).map(([c,h])=>({name:c,value:h}))},[N]),ae=D?S==null?void 0:S.timeSeries:y==null?void 0:y.timeSeries;return e.jsx(os,{fullWidth:!0,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx(us,{dateRange:a,onDateRangeChange:i,calendarOpen:l,onCalendarOpenChange:f,tempDateRange:x,onTempDateRangeChange:j,selectedLocations:g,onLocationsChange:b,selectedSites:d,onSitesChange:u}),e.jsxs("div",{className:"flex-1 overflow-auto p-6 space-y-6 relative",children:[(Ge||w)&&e.jsx(gs,{}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(_,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"gap-2",children:[e.jsx(Es,{className:"h-4 w-4"}),"Back"]}),e.jsx("h1",{className:"text-2xl font-bold",children:de(s)})]}),e.jsxs(Bs,{value:v,onValueChange:X,className:"space-y-4",children:[e.jsxs(Ve,{children:[e.jsx($,{value:"trend",children:"Trend"}),e.jsx($,{value:"location",children:"By Location"}),e.jsx($,{value:"site",children:"By Site"}),!k&&e.jsx($,{value:"client",children:"By Client"}),k&&e.jsx($,{value:"details",children:"All Details"})]}),e.jsx(B,{value:"trend",className:"space-y-4",children:e.jsxs("div",{className:"grid gap-6",children:[D&&e.jsx(vs,{data:(S==null?void 0:S.timeSeries)||[],aggregationLevel:(S==null?void 0:S.aggregationLevel)||"monthly",selectedMetric:s}),t&&e.jsx(ms,{data:(y==null?void 0:y.timeSeries)||[],aggregationLevel:(y==null?void 0:y.aggregationLevel)||"monthly",selectedMetric:s}),!D&&!t&&e.jsx(V,{children:e.jsx(H,{className:"pt-6",children:e.jsx("p",{className:"text-muted-foreground",children:"Metric type not recognized or data unavailable."})})}),e.jsxs(V,{children:[e.jsx(pe,{children:e.jsx(ye,{children:"Historical Data"})}),e.jsx(H,{children:e.jsxs(Te,{children:[e.jsxs(Ts,{children:["Detailed historical data for ",de(s)]}),e.jsx(Ae,{children:e.jsxs(W,{children:[e.jsx(R,{children:"Period"}),e.jsx(R,{className:"text-right",children:"Value"})]})}),e.jsx(Le,{children:ae&&ae.length>0?[...ae].reverse().map((n,c)=>e.jsxs(W,{children:[e.jsx(T,{className:"font-medium",children:n.display}),e.jsx(T,{className:"text-right font-medium",children:Je(n,s)})]},c)):e.jsx(W,{children:e.jsx(T,{colSpan:2,className:"text-center",children:"No data available"})})})]})})]})]})}),e.jsx(B,{value:"location",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsx(ie,{data:p,metric:s||"revenue"}),e.jsx(Z,{data:p,metric:s||"revenue"})]})}),e.jsx(B,{value:"site",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsx(ie,{data:p,metric:s||"revenue"}),e.jsx(Z,{data:p,metric:s||"revenue"})]})}),e.jsx(B,{value:"client",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsx(ie,{data:p,metric:s||"revenue"}),e.jsx(Z,{data:p,metric:s||"revenue"})]})}),e.jsx(B,{value:"details",children:e.jsxs("div",{className:"grid gap-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.jsx(Z,{data:We,metric:"overheads"})}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(_,{onClick:Ke,className:"gap-2",children:[e.jsx(ds,{className:"h-4 w-4"}),"Add Overhead"]})}),e.jsx(Hs,{data:N,onEdit:Ue,onDelete:Ye}),e.jsx(zs,{open:z,onOpenChange:P,initialData:G,onSave:qe})]})})]})]})]})})};export{ga as default};
